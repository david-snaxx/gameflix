<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Gameflix</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
</head>
<body>
    <nav th:fragment="navbar" class="glassy-nav">
        <a th:href="@{/}" class="nav-brand">
            <span style="color: #975b14">Game</span>
            <span style="color: #1e3c72">Flix</span>
            <span sec:authorize="hasRole('SUBSCRIBER')" class="nav-brand" style="color: white !important; font-size: 0.5rem;">Plus</span>
            <span sec:authorize="hasRole('ADMIN')" class="nav-brand" style="color: darkred !important; font-size: 0.5rem;"> ADMIN </span>
        </a>

        <div class="nav-links">
            <a sec:authorize="hasRole('ADMIN')" th:href="@{/admin}">Admin Panel</a>
            <a th:href="@{/games/all}">Browse Games</a>
            <a th:href="@{/subscribe}">Subscribe</a>

            <!--show login & register for logged out users-->
            <div sec:authorize="!isAuthenticated()" class="flex-row">
                <a th:href="@{/login}">Login</a>
                <a th:href="@{/register}" class="glassy-button button-primary" style="padding: 8px 16px; font-size: 0.9rem;">
                    Sign Up
                </a>
            </div>

            <!--show name & logout for logged in users-->
            <div sec:authorize="isAuthenticated()" class="flex-row">
                <span style="color: rgba(255,255,255,0.7); font-size: 0.9rem;">
                    Hi, <span sec:authentication="name">User</span>
                </span>

                <form th:action="@{/logout}" method="post" style="margin: 0;">
                    <button type="submit" class="glassy-button button-danger" style="padding: 8px 16px; font-size: 0.9rem;">
                        Logout
                    </button>
                </form>
            </div>
        </div>
    </nav>
</body>
</html>